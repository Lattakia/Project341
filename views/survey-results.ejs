<!DOCTYPE html>
<head>

	<title>Connect Concordia</title>
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"> 
	   <!--load bootsrap css-->
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.js"></script>
</head>

<body>

<h1>Question 1: The Lectures are written in a clear way.</h1>
<h2>Number of Responses</h2>
<br>
<canvas id="myCanvas" width="400" height="400">Your browser does not support the canvas feature.</canvas>
<!-- Script to draw the graph on the canvas. -->
<script type="text/javascript">
	var ctx = document.getElementById("myCanvas").getContext("2d");

	// Documents are retrieved from server.
	var docs = <%- JSON.stringify(docs) %>;

	// Retrive number of responses for the data of the bar chart.
	var surveyData = {
	         stronglyAgree: 0,
			 agree: 0,
			 somewhatAgree: 0,
			 neither: 0,
			 disagree: 0,
			 stronglyDisagree: 0
	    };

	for(var i = 0; i < docs.length; ++i){
		if(docs[i]['question1'] == "StronglyAgree"){
			surveyData.stronglyAgree++;
		} else if(docs[i]['question1'] == "Agree"){
			surveyData.agree++;
		} else if(docs[i]['question1'] == "SomewhatAgree"){
			surveyData.somewhatAgree++;
		} else if(docs[i]['question1'] == "Neither Agree or Disagree"){
			surveyData.neither++;
		} else if(docs[i]['question1'] == "Disagree"){
			surveyData.disagree++;
		} else if(docs[i]['question1'] == "StronglyDisagree"){
			surveyData.stronglyDisagree++;
		}
	}

	var barChart = new Chart(ctx, {
	
		type: 'bar',
		data: {
			labels: ['Strongly Agree', 'Agree', 'Somewhat Agree', 'Neither Agree nor Disagree', 'Disagree', 'Strongly Disagree'],
			datasets: [{
				label: 'Number of Responses',
				data: [surveyData.stronglyAgree, surveyData.agree, surveyData.somewhatAgree, surveyData.neither, surveyData.disagree, surveyData.stronglyDisagree],
				// Dark green, a bit lighter green, light green, orange, bright red, dark red
				backgroundColor: ['rgb(49, 214, 27)', 'rgb(61, 209, 41)', 'rgb(81, 229, 61)', 'rgb(249, 154, 0)', 'rgb(249, 65, 19)', 'rgb(237, 14, 14)']
			}]
		},
		options: {
			legend: {
				display: false
			},
			responsive: false,
			scales: {
				yAxes: [{
					ticks: {
						min: 0,
						max: 50,
						stepSize: 10
					}
				}]
			}
		}
	});
</script>

<h1>Comments</h1>
<div id="comments">
	<% for(var i = 0; i < docs.length; ++i){%>
		<p><%= docs[i]['comments'] %></p><br>
	<% } %>
</div>

</body>
</html>